# 전자봉투 시스템
 
 이 프로젝트는 웹코드보안 최종 개인 프로젝트로 **전자봉투** 개념을 사용하여 송신자와 수신자 간에 안전하게 메시지를 전송하는 간단한 시스템입니다. 송신자가 수신자에게 메시지를 보낼 때, 메시지를 암호화하고 서명을 추가하여 데이터의 무결성과 기밀성을 보장하는 과정을 구현하였습니다. 
  
<br>

## 주요 기능 
![image](https://github.com/user-attachments/assets/804ff0a3-2347-4195-a2b9-fad2a2cbbfe5) 
- **키 생성**
    - 송신자와 수신자 간의 통신을 위해 **RSA키 쌍**을 생성하고 관리합니다.
    - 대칭키(AES)는 메시지를 암호화하기 위해 생성되며, 이 키는 수신자의 공개키로 안전하게 보호됩니다.
- **메시지 암호화 및 전자봉투 생성**
   - 송신자가 수신자에게 보낼 메시지를 대칭키 암호화 방식으로 보호합니다.
   - 송신자의 사설키를 사용하여 메시지에 서명을 추가하여 무결성을 보장합니다.
   - 대칭키를 수신자의 공개키로 암호화하여 전송하는 과정에서 전자봉투를 생성합니다.
- **메시지 검증 및 복호화**
   - 수신자는 전자봉투를 풀고, 서명을 검증한 뒤 암호화된 메시지를 복호화하여 읽습니다.




<br>

## 📧전자봉투란?

**전자봉투**는 송신자가 대칭키로 암호화한 데이터를, 수신자의 공개키로 다시 암호화하여 전달하는 보안 기술입니다. 이 방식으로 메시지 전송 시 기밀성과 데이터 보호가 보장됩니다. 

### 기밀성
전자봉투 기술을 사용하면, 데이터가 송신자의 사설키로 서명된 후 대칭키로 암호화되고, 이 대칭키가 수신자의 공개키로 다시 암호화됩니다. 이를 통해 데이터는 수신자 외에는 접근할 수 없게 됩니다.

### 무결성
전자봉투에서 송신자는 자신의 사설키로 메시지를 서명하고, 수신자는 송신자의 공개키를 사용해 서명의 유효성을 확인합니다. 이로 인해 데이터가 전송 중에 변경되었는지 여부를 검증할 수 있습니다.

이 프로젝트에서 전자봉투의 사용 흐름은 다음과 같습니다:
1. 송신자는 키 쌍을 생성한 후 자신의 사설키로 메시지를 서명합니다.
2. 서명된 메시지는 대칭키(AES)를 사용하여 암호화됩니다.
3. 대칭키는 수신자의 공개키로 암호화되어 전자봉투에 저장됩니다.
4. 수신자는 자신의 사설키로 전자봉투를 해독하고 대칭키를 복호화하여, 메시지를 복호화합니다.
5. 마지막으로 송신자의 공개키를 사용하여 서명의 유효성을 확인합니다.
<br>


## 사용 기술 스택

- **Java Spring Boot**: 서버와 API 로직 처리
- **Thymeleaf**: 프론트엔드 템플릿 엔진
- **JCA (Java Cryptography Architecture)**: 암호화 및 서명 기능 구현
 
<br>

## 프로젝트 구조

```bash
src/
├── main/
│   ├── java/com/security/de/
│   │   ├── controller/        # 컨트롤러 레이어
│   │   ├── service/           # 서비스 레이어
│   │   ├── utils/             # 유틸리티 클래스
│   │   └── exception/         # 예외 처리 관련 클래스
│   └── resources/
│       ├── static/            # 정적 파일 (CSS, JS)
│       └── templates/         # Thymeleaf 템플릿 파일
└── test/                      # 테스트 코드
```
 
<br>

## 설치 및 실행 방법

1. 프로젝트를 클론합니다.
   ```bash
   git clone https://github.com/gagle1231/DigitalEnvelope.git
   ```

2. 필수 환경 설정 application.properties 파일에서 서명 및 데이터 저장 경로 등을 설정해 주세요.
   ```properties
   sign.storage.path=/path/to/signatures/
   data.storage.path=/path/to/data/
   ```

<br>
